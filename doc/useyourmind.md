## **useyourmind** - web application framework for NLP

#### Структура приложения

**/ корневая папка**

- **starter.os**
Модуль запуска приложения и управления процессами

- **webserver.os**
Модуль веб-сервера

- **showdata.os**
Контроллер сеанса. Интерфейс приложения.

- **pagedata.os**
Модуль интерпретации структуры данных. Обработка и формирование представления данных.

- **dataserver.os**
Модуль сервера данных. Обработка запросов к данным.

- **dbaccess.os**
Модуль работы с контейнерами файлов данных

- **Объекты.os**
Модуль объектов интерфейса

- **Функции.os**
Модуль внешних функций интерпретатора данных

- **Операторы.os**
Модуль внешних операторов интерпретатора данных

**/doc папка с документацией в формате markdown**

**/data папка файлов данных пользователей**

**/lib модули внешних библиотек подключаемых объектов**

**/morph данные для модуля морфологии**

**/resourse ресурсы для веб-интерфейса**

- **showdata.html**


Для локального запуска на своем компьютере необходимо:
Скачать последнюю версию useyourmind + Uascript https://github.com/vasvl123/useyourmind/releases
Установить библиотеку .Net версии не ниже 4.5 - для Windows, а для linux mono-complete не ниже 5.2.
Перейти в папку useyourmind и выполнить команду: 
uascript starter.os (mono uascript starter.os)
Открыть в браузере ссылку: http://localhost:8888

Модуль starter.os запускает процессы webserver.os, dataserver.os. Отдельные процессы showdata.os запускается для каждого пользовательского соединения. Каждый процесс использует отдельный TCP порт для обмена данными.

Веб-сервер (модуль webserver.os) может запускается в локальном режиме, или в режиме веб-сайта и принимает подключения на порту 8888.

Доступ к файлам данных осуществляется через отдельный процесс - сервер данных (dataserver.os). Сервер обрабатывает запросы ассинхронно, отдавая результаты по мере выполнения запросов.

Данные хранятся в виде заголовков и файлов внутри одного файла-контейнера(.sdb), или в отдельном текстовом файле (*.sd). Файл данных *.sd - это текстовый файл, каждая строка которого хранит один узел DOM. Свойства узлов хранятся в виде пары ключ - значение, разделенные символом табуляции. Код узла соответствует номеру строки в файле. Узел загружается в память в виде структуры, содержащей стандартные свойства: Код, Имя, Значение, и ссылки на другие узлы: Соседний, Дочерний, Атрибут, Старший, Родитель.

Модуль процесса пользователя (showdata.os) хранит текущее состояние сеанса, производит обработку запросов пользователя, содержит редактор структуры данных. Редактор запускается в отдельном окне из главного меню программы. Для изменения структуры данных нужно выбрать нужный узел и выполнить с ним действия. Узлы можно создавать, удалять, копировать, вырезать и вставлять, изменять имя и значение. Имя узла - его тип - определяет, как он будет обрабатываться внутренним интерпретатором (в модуле pagedata.os).

Интерпретатор формирует представление данных для отображения в браузере. Каждый узел, в зависимости от его имени обрабатывается интерпретатором по разному.
- О (Объект) - имеет структуру свойств и включает в себя другие объекты.
- Ф (Функция) - вызывает функцию из подключаемой библиотеки. Результат выполнения функции отображается как содержимое узла и может быть интерпретирован.
- А (Аргумент) - аргумент функции.  
- О (Оператор) - выполняет действие над вложенными узлами.
- С (Ссылка) - устанавливает связь со свойством объекта.
- З (Значение) - интерпретирует значение свойства объекта.
- Свойство - получает значение свойства ссылки (структуры)
- Атрибут - получает значение атрибута узла.
- Первый, Соседний - передает ссылку на текущий или соседний узел.
- Истина, Ложь, Неопределенно, Пустой, Число, Строка - передает соответствующее значение.
Теги HTML передаются в виде HTML разметки.

Результат (в виде обычного HTML) передается браузеру и загружается в определяемый идентификатором узел DOM страницы. Для работы с DOM используется библиотека JQuery. В качестве шаблона используется CoreUI и BootStrap 4.
